# üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ Django —Å –ø–æ–º–æ—â—å—é Docker –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
üêç –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ Django-–ø—Ä–æ–µ–∫—Ç–∞ —Å –ø–æ–º–æ—â—å—é Docker, PostgreSQL –∏ Nginx –Ω–∞ —Å–µ—Ä–≤–µ—Ä Ubuntu. –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx, –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ staging —Å—Ä–µ–¥.

## üë§ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É `sudo` –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –Ω–µ–≥–æ

üîß **–ö–æ–º–∞–Ω–¥—ã:**

1Ô∏è‚É£ –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É `sudo`:

```bash
usermod -aG sudo username
```

2Ô∏è‚É£ –°–æ–∑–¥–∞–µ–º –≥—Ä—É–ø–ø—É —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç):

```bash
group username
```

3Ô∏è‚É£ –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
su username
```

üìù **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- üîÅ –ó–∞–º–µ–Ω–∏—Ç–µ `username` –Ω–∞ –∏–º—è –Ω—É–∂–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- ‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–æ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –≥—Ä—É–ø–ø—É ‚Äî –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞.

---

## üíª –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –ü–û

üõ†Ô∏è –ó–¥–µ—Å—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Docker –∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–º Nginx.

üì¶ **–ö–æ–º–∞–Ω–¥—ã:**

```bash
sudo apt install nginx
sudo apt install docker
sudo apt install docker-compose
```

---

## ‚è¨ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

üìÅ –°–∫–∞—á–∏–≤–∞–µ–º –ø—Ä–æ–µ–∫—Ç –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è GitHub –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

üè† **–ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:**

```bash
cd ~
```

üîÑ **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**

```bash
git clone https://link...
```

üìù **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- üîë –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ SSH-–∫–ª—é—á, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `git@...`
- üåê –í—ã–±–∏—Ä–∞–π—Ç–µ `HTTPS` –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º –º–µ–Ω—é "Code"
- üì§ –ó–∞–≥—Ä—É–∑–∏—Ç–µ `credentials` —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–æ–±–º–µ–Ω–Ω–∏–∫, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

## üê≥ –ó–∞–ø—É—Å–∫ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

üöÄ –ü–æ–¥–Ω–∏–º–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç.

üìÅ **–ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å `docker-compose.yml` –∏ –∑–∞–ø—É—Å–∫–∞–µ–º:**

```bash
sudo docker-compose up --build -d
```

üß± **–ó–∞—Ç–µ–º: –º–∏–≥—Ä–∞—Ü–∏–∏, —Å—Ç–∞—Ç–∏–∫–∞, —Å—É–ø–µ—Ä—é–∑–µ—Ä –∏ –≤—ã—Ö–æ–¥ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:**

```bash
sudo docker exec -it name_of_container bash
python manage.py migrate
python manage.py collectstatic --noinput
python manage.py createsuperuser
exit
```

---

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

### ‚öôÔ∏è 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

üìÇ –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª:

```bash
cd /etc/nginx/sites-available/
sudo nano default
```

üßπ –£–¥–∞–ª—è–µ–º –ø—Ä–∏–º–µ—Ä –∏–∑ —Ñ–∞–π–ª–∞ (–º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é `Alt + T`) –∏ –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

```nginx
server {
    listen 80;
    server_name ip_server or host_name;
    access_log  /var/log/nginx/example.log;

    location /static/ {
        alias /home/username/project_path/staticfiles/;
        expires 30d;
    }

    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $server_name;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
```

---

### üîê 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é `www-data` (–æ—Ç –∏–º–µ–Ω–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–±–æ—Ç–∞–µ—Ç Nginx) –Ω—É–∂–Ω–æ –¥–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –≤ –Ω—É–∂–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏.

üõ† **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤ –Ω–∞ —Å—Ç–∞—Ç–∏–∫—É:**

```bash
sudo chown -R www-data:www-data /home/username/project_path/staticfiles
sudo chmod -R 755 /home/username/project_path/staticfiles
sudo systemctl reload nginx
```

üëÅ **–ü—Ä–∞–≤–∞ –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:**

```bash
sudo chmod o+x /home
sudo chmod o+x /home/username
sudo chmod o+x /home/username/project_path
sudo systemctl reload nginx
```
